{"version":3,"sources":["component/Home.js","firebase.js","helpers/auth.js","component/login.js","helpers/db.js","component/signup.js","component/404.js","component/navbar.js","component/chatBox.js","component/chat.js","App.js","reportWebVitals.js","index.js"],"names":["Home","props","className","to","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","console","log","database","signup","email","password","a","createUserWithEmailAndPassword","signin","signInWithEmailAndPassword","Signin","useState","setEmail","passsword","setPassword","error","setError","history","useHistory","handleSubmit","user","localStorage","setItem","push","getItem","message","onChange","e","target","value","onClick","regsiterUsersForChat","name","ref","Signup","setName","FourOFour","Navbar","src","profilePicture","alt","ChatBox","msg","setMessage","msgs","map","userInfo","content","onSubmit","preventDefault","timestamp","Date","now","writeMessage","type","Chat","users","setUsers","showChatBox","setShowChatBox","setMessages","useEffect","on","snaps","forEach","snap","val","snapshots","messages","singleMsg","signOut","removeItem","style","height","width","display","justifyContent","margin","App","currentUser","setCurrentUser","userEmail","PrivateRoute","Component","path","render","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c379ebdf.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nfunction Home(props) {\n  return (\n    <div>\n      <h2>Welcome to Chat App Lets connect</h2>\n\n      <div className=\"signup-btns\">\n        <Link to=\"/signup\">\n          <button>Signup</button>\n        </Link>\n        <Link to=\"/signin\">\n          {\" \"}\n          <button>Signin</button>{\" \"}\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n","// Import the functions you need from the SDKs you need\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCw7yoW5z2K-LmpjjqF6pHvLPbhS72dXKg\",\n  authDomain: \"chat-app-1a2bc.firebaseapp.com\",\n  databaseURL: \"https://chat-app-1a2bc-default-rtdb.firebaseio.com\",\n  projectId: \"chat-app-1a2bc\",\n  storageBucket: \"chat-app-1a2bc.appspot.com\",\n  messagingSenderId: \"148615798371\",\n  appId: \"1:148615798371:web:30d3b5c77514da72382256\",\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const auth = firebase.auth();\n\nconsole.log(\"authis \", auth);\nexport const database = firebase.database();\n","import { auth } from \"../firebase\";\n\nexport async function signup(email, password) {\n  return auth.createUserWithEmailAndPassword(email, password);\n}\n\nexport function signin(email, password) {\n  console.log(\"signi in user\", email, password);\n  return auth.signInWithEmailAndPassword(email, password);\n}\n\nexport function logout() {\n  return auth.signOut();\n}\n","import React, { useEffect, useState } from \"react\";\nimport { signin } from \"../helpers/auth\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nfunction Signin(props) {\n  const [email, setEmail] = useState(\"\");\n  const [passsword, setPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  const handleSubmit = async () => {\n    try {\n      let user = await signin(email, passsword);\n      console.log(\" user after signin\", user.user.email);\n      localStorage.setItem(\"userInfo\", user.user.email);\n      history.push(\"/chat\");\n    } catch (error) {\n      setError(error);\n    }\n  };\n\n  if (localStorage.getItem(\"userInfo\")) {\n    return <Redirect to=\"/chat\" />;\n  }\n\n  return (\n    <div>\n      <h4>{error?.message} </h4>\n      <div>\n        <label>Email </label>\n        <input onChange={(e) => setEmail(e.target.value)} />\n      </div>\n      <div>\n        <label>Password </label>\n        <input onChange={(e) => setPassword(e.target.value)} />\n      </div>\n\n      <button onClick={handleSubmit}>Signin</button>\n    </div>\n  );\n}\n\nexport default Signin;\n","import { database } from \"../firebase\";\n\nexport function regsiterUsersForChat(name, email) {\n  database.ref(\"users\").push({\n    name,\n    email,\n  });\n}\n\nexport function writeMessage(content, email) {\n  database.ref(\"msgs\").push({\n    content,\n    timestamp: Date.now(),\n    userInfo: email,\n  });\n}\n","import React, { useState } from \"react\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport { regsiterUsersForChat } from \"../helpers/db\";\nimport { signup } from \"../helpers/auth\";\nfunction Signup(props) {\n  const [email, setEmail] = useState(\"\");\n  const [passsword, setPassword] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState(null);\n  const history = useHistory();\n\n  const handleSubmit = async () => {\n    try {\n      let user = await signup(email, passsword);\n      console.log(\"user signup success\", user);\n      regsiterUsersForChat(name, email);\n      history.push(\"/signin\");\n    } catch (error) {\n      setError(error);\n    }\n  };\n\n  console.log(\"error\", error);\n  if (localStorage.getItem(\"userInfo\")) {\n    return <Redirect to=\"/chat\" />;\n  }\n  return (\n    <div>\n      <div>\n        <h4>{error?.message} </h4>\n        <div>\n          <label>Name </label>\n          <input onChange={(e) => setName(e.target.value)} />\n        </div>\n        <div>\n          <label>Email </label>\n          <input onChange={(e) => setEmail(e.target.value)} />\n        </div>\n        <div>\n          <label>Password </label>\n          <input onChange={(e) => setPassword(e.target.value)} />\n        </div>\n\n        <button onClick={handleSubmit}>Signup</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Signup;\n","import React from \"react\";\n\nfunction FourOFour(props) {\n  return (\n    <div>\n      <h3>Hey Seems like you are Lost Go to home page</h3>\n    </div>\n  );\n}\n\nexport default FourOFour;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nfunction Navbar(props) {\n  const [name, setName] = useState(\"\");\n  const [count, setCount] = useState(0);\n  console.log(\"state values\", name, setName);\n  return (\n    <div>\n      <div className=\"container\">\n        <Link to=\"/\">\n          <h3>Chat App</h3>\n        </Link>\n        <div>\n          <div>\n            {\" \"}\n            <h4>{name}</h4>\n            <button onClick={() => setName(\"Anshu\")}>Update name</button>\n          </div>\n        </div>\n\n        <img src={props.profilePicture} alt=\"profile-pic\" />\n      </div>\n    </div>\n  );\n}\n\nexport default Navbar;\n","import React, { useState } from \"react\";\nimport { writeMessage } from \"../helpers/db\";\nfunction ChatBox(props) {\n  const [msg, setMessage] = useState(\"\");\n  const { msgs } = props;\n  const email = localStorage.getItem(\"userInfo\");\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    writeMessage(msg, email);\n    setMessage(\"\");\n  };\n  return (\n    <div className=\"chabox\">\n      <div>\n        {msgs &&\n          msgs.map((msg) => (\n            <div>\n              <div className={msg.userInfo !== email ? \"left\" : \"right\"}>\n                {msg.content}\n              </div>\n            </div>\n          ))}\n      </div>\n      <form onSubmit={handleOnSubmit}>\n        <input value={msg} onChange={(e) => setMessage(e.target.value)} />\n        <button type=\"submit\">Send Message</button>\n      </form>\n    </div>\n  );\n}\n\nexport default ChatBox;\n","import React, { useEffect, useState } from \"react\";\nimport { logout } from \"../helpers/auth\";\nimport { useHistory } from \"react-router-dom\";\nimport { database } from \"../firebase\";\nimport ChatBox from \"./chatBox\";\nfunction Chat(props) {\n  const [users, setUsers] = useState([]);\n  const [showChatBox, setShowChatBox] = useState(false);\n  const [msgs, setMessages] = useState([]);\n  const history = useHistory();\n  const signOut = () => {\n    logout();\n    localStorage.removeItem(\"userInfo\");\n    history.push(\"/\");\n  };\n  const user = localStorage.getItem(\"userInfo\");\n\n  const readAllUsers = () => {\n    console.log(\"inside useEffect\");\n    database.ref(\"users\").on(\"value\", (snaps) => {\n      let users = [];\n      console.log(\"inside listener\");\n      snaps.forEach((snap) => {\n        const user = snap.val();\n        users.push({\n          name: user.name,\n          email: user.email,\n        });\n      });\n      console.log(\"user is\", users);\n      setUsers(users);\n    });\n  };\n\n  const readAllMessages = () => {\n    database.ref(\"msgs\").on(\"value\", (snapshots) => {\n      let messages = [];\n      snapshots.forEach((snap) => {\n        let singleMsg = snap.val();\n        messages.push(singleMsg);\n      });\n      console.log(\"mesggafesare\", messages);\n      setMessages(messages);\n    });\n  };\n  useEffect(() => {\n    readAllUsers();\n    readAllMessages();\n  }, []);\n  return (\n    <div>\n      <h4>Hey {user} Lets chat</h4>\n      <button onClick={signOut}> Signout</button>{\" \"}\n      <button onClick={() => setShowChatBox(true)}>Chat With Users </button>\n      <div style={{ height: \"200px\", width: \"80%\" }}>\n        {users.map((user) => (\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <li style={{ margin: \"20px\" }}>{user.name}</li>{\" \"}\n          </div>\n        ))}\n      </div>\n      {showChatBox && <ChatBox msgs={msgs} />}\n    </div>\n  );\n}\n\nexport default Chat;\n","import \"./App.css\";\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\nimport Home from \"./component/Home\";\nimport Signin from \"./component/login\";\nimport Signup from \"./component/signup\";\nimport FourOFour from \"./component/404\";\nimport Navbar from \"./component/navbar\";\nimport Chat from \"./component/chat\";\nimport { useEffect, useState } from \"react\";\nimport { auth } from \"./firebase\";\n\nconst profilePic =\n  \"https://yt3.ggpht.com/yti/APfAmoEh3Q8f2tMT2ixHZsrniLzi4IU1tkhCs82VPY-BeA=s88-c-k-c0x00ffffff-no-rj-mo\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({});\n  useEffect(() => {\n    const user = auth.currentUser;\n    setCurrentUser(user);\n  }, []);\n\n  console.log(\"user\", currentUser);\n  const userEmail = localStorage.getItem(\"userInfo\");\n  function PrivateRoute({ Component, props, path }) {\n    return (\n      <Route\n        path={path}\n        render={(props) =>\n          userEmail ? <Component {...props} /> : <Redirect to=\"/signin\" />\n        }\n      />\n    );\n  }\n  return (\n    <div className=\"App\">\n      <h2>Hello word</h2>\n      <Router>\n        <Navbar profilePicture={profilePic} />\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/signin\" exact component={Signin} />\n          <Route path=\"/signup\" exact component={Signup} />\n          <PrivateRoute path=\"/chat\" Component={Chat} />\n          <Route component={FourOFour} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}